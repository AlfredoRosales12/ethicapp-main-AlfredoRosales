FROM node:14-alpine

WORKDIR /app

COPY package*.json ./

RUN npm install

ARG REACT_APP_API_PORT
ARG REACT_APP_DOMAIN

ENV REACT_APP_API_PORT $REACT_APP_API_PORT
ENV REACT_APP_DOMAIN $REACT_APP_DOMAIN

COPY . .

RUN npm run build

EXPOSE 3000

CMD ["npm", "start"]
